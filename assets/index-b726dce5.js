var nn=Object.defineProperty;var on=(t,e,n)=>e in t?nn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>(on(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function O(){}function Xt(t,e){for(const n in e)t[n]=e[n];return t}function sn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Qe(t){return t()}function Le(){return Object.create(null)}function nt(t){t.forEach(Qe)}function de(t){return typeof t=="function"}function bt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rn(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null){for(const o of e)o(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ht(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function Ke(t,e,n,o){if(t){const s=Ye(t,e,n,o);return t[0](s)}}function Ye(t,e,n,o){return t[1]&&o?Xt(n.ctx.slice(),t[1](o(e))):n.ctx}function Ve(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],l=Math.max(e.dirty.length,s.length);for(let u=0;u<l;u+=1)r[u]=e.dirty[u]|s[u];return r}return e.dirty|s}return e.dirty}function We(t,e,n,o,s,r){if(s){const l=Ye(e,n,o,r);t.p(l,s)}}function Ze(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function Te(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function a(t,e){t.appendChild(e)}function Q(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function j(){return E(" ")}function xt(){return E("")}function mt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ln(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function Bt(t,e){t.value=e??""}function Ne(t,e){return new t(e)}let gt;function Z(t){gt=t}function yt(){if(!gt)throw new Error("Function called outside component initialization");return gt}function cn(t){yt().$$.on_mount.push(t)}function un(t){yt().$$.on_destroy.push(t)}function ne(t,e){return yt().$$.context.set(t,e),e}function le(t){return yt().$$.context.get(t)}const ct=[],Ie=[];let ut=[];const qe=[],an=Promise.resolve();let ie=!1;function fn(){ie||(ie=!0,an.then(he))}function ce(t){ut.push(t)}const oe=new Set;let lt=0;function he(){if(lt!==0)return;const t=gt;do{try{for(;lt<ct.length;){const e=ct[lt];lt++,Z(e),dn(e.$$)}}catch(e){throw ct.length=0,lt=0,e}for(Z(null),ct.length=0,lt=0;Ie.length;)Ie.pop()();for(let e=0;e<ut.length;e+=1){const n=ut[e];oe.has(n)||(oe.add(n),n())}ut.length=0}while(ct.length);for(;qe.length;)qe.pop()();ie=!1,oe.clear(),Z(t)}function dn(t){if(t.fragment!==null){t.update(),nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ce)}}function hn(t){const e=[],n=[];ut.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ut=e}const Ut=new Set;let et;function Ht(){et={r:0,c:[],p:et}}function zt(){et.r||nt(et.c),et=et.p}function B(t,e){t&&t.i&&(Ut.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(Ut.has(t))return;Ut.add(t),et.c.push(()=>{Ut.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Re(t,e){const n=e.token={};function o(s,r,l,u){if(e.token!==n)return;e.resolved=u;let i=e.ctx;l!==void 0&&(i=i.slice(),i[l]=u);const c=s&&(e.current=s)(i);let p=!1;e.block&&(e.blocks?e.blocks.forEach((f,k)=>{k!==r&&f&&(Ht(),H(f,1,1,()=>{e.blocks[k]===f&&(e.blocks[k]=null)}),zt())}):e.block.d(1),c.c(),B(c,1),c.m(e.mount(),e.anchor),p=!0),e.block=c,e.blocks&&(e.blocks[r]=c),p&&he()}if(sn(t)){const s=yt();if(t.then(r=>{Z(s),o(e.then,1,e.value,r),Z(null)},r=>{if(Z(s),o(e.catch,2,e.error,r),Z(null),!e.hasCatch)throw r}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function pn(t,e,n){const o=e.slice(),{resolved:s}=t;t.current===t.then&&(o[t.value]=s),t.current===t.catch&&(o[t.error]=s),t.block.p(o,n)}function Be(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const l=t[r],u=e[r];if(u){for(const i in l)i in u||(o[i]=1);for(const i in u)s[i]||(n[i]=u[i],s[i]=1);t[r]=u}else for(const i in l)s[i]=1}for(const l in o)l in n||(n[l]=void 0);return n}function Mt(t){return typeof t=="object"&&t!==null?t:{}}function _t(t){t&&t.c()}function at(t,e,n){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),ce(()=>{const r=t.$$.on_mount.map(Qe).filter(de);t.$$.on_destroy?t.$$.on_destroy.push(...r):nt(r),t.$$.on_mount=[]}),s.forEach(ce)}function ft(t,e){const n=t.$$;n.fragment!==null&&(hn(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mn(t,e){t.$$.dirty[0]===-1&&(ct.push(t),fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Dt(t,e,n,o,s,r,l,u=[-1]){const i=gt;Z(t);const c=t.$$={fragment:null,ctx:[],props:r,update:O,not_equal:s,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Le(),dirty:u,skip_bound:!1,root:e.target||i.$$.root};l&&l(c.root);let p=!1;if(c.ctx=n?n(t,e.props||{},(f,k,...d)=>{const h=d.length?d[0]:k;return c.ctx&&s(c.ctx[f],c.ctx[f]=h)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](h),p&&mn(t,f)),k}):[],c.update(),p=!0,nt(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const f=ln(e.target);c.fragment&&c.fragment.l(f),f.forEach(G)}else c.fragment&&c.fragment.c();e.intro&&B(t.$$.fragment),at(t,e.target,e.anchor),he()}Z(i)}class Gt{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){ft(this,1),this.$destroy=O}$on(e,n){if(!de(n))return O;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!rn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gn);const Me={},ue={},_n={},$e=/^:(.+)/,Ue=4,bn=3,yn=2,kn=1,vn=1,ae=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),se=t=>t.replace(/(^\/+|\/+$)/g,""),wn=(t,e)=>{const n=t.default?0:ae(t.path).reduce((o,s)=>(o+=Ue,s===""?o+=vn:$e.test(s)?o+=yn:s[0]==="*"?o-=Ue+kn:o+=bn,o),0);return{route:t,score:n,index:e}},Sn=t=>t.map(wn).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Xe=(t,e)=>{let n,o;const[s]=e.split("?"),r=ae(s),l=r[0]==="",u=Sn(t);for(let i=0,c=u.length;i<c;i++){const p=u[i].route;let f=!1;if(p.default){o={route:p,params:{},uri:e};continue}const k=ae(p.path),d={},h=Math.max(r.length,k.length);let A=0;for(;A<h;A++){const T=k[A],I=r[A];if(T&&T[0]==="*"){const D=T==="*"?"*":T.slice(1);d[D]=r.slice(A).map(decodeURIComponent).join("/");break}if(typeof I>"u"){f=!0;break}const z=$e.exec(T);if(z&&!l){const D=decodeURIComponent(I);d[z[1]]=D}else if(T!==I){f=!0;break}}if(!f){n={route:p,params:d,uri:"/"+r.slice(0,A).join("/")};break}}return n||o||null},xe=(t,e)=>`${se(e==="/"?t:`${se(t)}/${se(e)}`)}/`,tn=()=>typeof window<"u"&&"document"in window&&"location"in window,An=t=>({params:t&4}),He=t=>({params:t[2]});function ze(t){let e,n,o,s;const r=[jn,En],l=[];function u(i,c){return i[0]?0:1}return e=u(t),n=l[e]=r[e](t),{c(){n.c(),o=xt()},m(i,c){l[e].m(i,c),Q(i,o,c),s=!0},p(i,c){let p=e;e=u(i),e===p?l[e].p(i,c):(Ht(),H(l[p],1,1,()=>{l[p]=null}),zt(),n=l[e],n?n.p(i,c):(n=l[e]=r[e](i),n.c()),B(n,1),n.m(o.parentNode,o))},i(i){s||(B(n),s=!0)},o(i){H(n),s=!1},d(i){i&&G(o),l[e].d(i)}}}function En(t){let e;const n=t[8].default,o=Ke(n,t,t[7],He);return{c(){o&&o.c()},m(s,r){o&&o.m(s,r),e=!0},p(s,r){o&&o.p&&(!e||r&132)&&We(o,n,s,s[7],e?Ve(n,s[7],r,An):Ze(s[7]),He)},i(s){e||(B(o,s),e=!0)},o(s){H(o,s),e=!1},d(s){o&&o.d(s)}}}function jn(t){let e,n,o,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Pn,then:Cn,catch:On,value:12,blocks:[,,,]};return Re(n=t[0],s),{c(){e=xt(),s.block.c()},m(r,l){Q(r,e,l),s.block.m(r,s.anchor=l),s.mount=()=>e.parentNode,s.anchor=e,o=!0},p(r,l){t=r,s.ctx=t,l&1&&n!==(n=t[0])&&Re(n,s)||pn(s,t,l)},i(r){o||(B(s.block),o=!0)},o(r){for(let l=0;l<3;l+=1){const u=s.blocks[l];H(u)}o=!1},d(r){r&&G(e),s.block.d(r),s.token=null,s=null}}}function On(t){return{c:O,m:O,p:O,i:O,o:O,d:O}}function Cn(t){var u;let e,n,o;const s=[t[2],t[3]];var r=((u=t[12])==null?void 0:u.default)||t[12];function l(i,c){let p={};if(c!==void 0&&c&12)p=Be(s,[c&4&&Mt(i[2]),c&8&&Mt(i[3])]);else for(let f=0;f<s.length;f+=1)p=Xt(p,s[f]);return{props:p}}return r&&(e=Ne(r,l(t))),{c(){e&&_t(e.$$.fragment),n=xt()},m(i,c){e&&at(e,i,c),Q(i,n,c),o=!0},p(i,c){var p;if(c&1&&r!==(r=((p=i[12])==null?void 0:p.default)||i[12])){if(e){Ht();const f=e;H(f.$$.fragment,1,0,()=>{ft(f,1)}),zt()}r?(e=Ne(r,l(i,c)),_t(e.$$.fragment),B(e.$$.fragment,1),at(e,n.parentNode,n)):e=null}else if(r){const f=c&12?Be(s,[c&4&&Mt(i[2]),c&8&&Mt(i[3])]):{};e.$set(f)}},i(i){o||(e&&B(e.$$.fragment,i),o=!0)},o(i){e&&H(e.$$.fragment,i),o=!1},d(i){i&&G(n),e&&ft(e,i)}}}function Pn(t){return{c:O,m:O,p:O,i:O,o:O,d:O}}function Ln(t){let e,n,o=t[1]&&t[1].route===t[5]&&ze(t);return{c(){o&&o.c(),e=xt()},m(s,r){o&&o.m(s,r),Q(s,e,r),n=!0},p(s,[r]){s[1]&&s[1].route===s[5]?o?(o.p(s,r),r&2&&B(o,1)):(o=ze(s),o.c(),B(o,1),o.m(e.parentNode,e)):o&&(Ht(),H(o,1,1,()=>{o=null}),zt())},i(s){n||(B(o),n=!0)},o(s){H(o),n=!1},d(s){s&&G(e),o&&o.d(s)}}}function Tn(t,e,n){let o,{$$slots:s={},$$scope:r}=e,{path:l=""}=e,{component:u=null}=e,i={},c={};const{registerRoute:p,unregisterRoute:f,activeRoute:k}=le(ue);ht(t,k,h=>n(1,o=h));const d={path:l,default:l===""};return p(d),un(()=>{f(d)}),t.$$set=h=>{n(11,e=Xt(Xt({},e),Te(h))),"path"in h&&n(6,l=h.path),"component"in h&&n(0,u=h.component),"$$scope"in h&&n(7,r=h.$$scope)},t.$$.update=()=>{if(o&&o.route===d){n(2,i=o.params);const{component:h,path:A,...T}=e;n(3,c=T),h&&(h.toString().startsWith("class ")?n(0,u=h):n(0,u=h())),tn()&&(window==null||window.scrollTo(0,0))}},e=Te(e),[u,o,i,c,k,d,l,r,s]}class De extends Gt{constructor(e){super(),Dt(this,e,Tn,Ln,bt,{path:6,component:0})}}const it=[];function Nn(t,e){return{subscribe:pt(t,e).subscribe}}function pt(t,e=O){let n;const o=new Set;function s(u){if(bt(t,u)&&(t=u,n)){const i=!it.length;for(const c of o)c[1](),it.push(c,t);if(i){for(let c=0;c<it.length;c+=2)it[c][0](it[c+1]);it.length=0}}}function r(u){s(u(t))}function l(u,i=O){const c=[u,i];return o.add(c),o.size===1&&(n=e(s,r)||O),u(t),()=>{o.delete(c),o.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:l}}function In(t,e,n){const o=!Array.isArray(t),s=o?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return Nn(n,(l,u)=>{let i=!1;const c=[];let p=0,f=O;const k=()=>{if(p)return;f();const h=e(o?c[0]:c,l,u);r?l(h):f=de(h)?h:O},d=s.map((h,A)=>Fe(h,T=>{c[A]=T,p&=~(1<<A),i&&k()},()=>{p|=1<<A}));return i=!0,k(),function(){nt(d),f(),i=!1}})}const re=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),qn=t=>{const e=[];let n=re(t);return{get location(){return n},listen(o){e.push(o);const s=()=>{n=re(t),o({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const r=e.indexOf(o);e.splice(r,1)}},navigate(o,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,"",o):t.history.pushState(s,"",o)}catch{t.location[r?"replace":"assign"](o)}n=re(t),e.forEach(l=>l({location:n,action:"PUSH"})),document.activeElement.blur()}}},Rn=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(s,r){},removeEventListener(s,r){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(s,r,l){const[u,i=""]=l.split("?");e++,n.push({pathname:u,search:i}),o.push(s)},replaceState(s,r,l){const[u,i=""]=l.split("?");n[e]={pathname:u,search:i},o[e]=s}}}},en=qn(tn()?window:Rn()),{navigate:fe}=en,Bn=t=>({route:t&2,location:t&1}),Ge=t=>({route:t[1]&&t[1].uri,location:t[0]});function Mn(t){let e;const n=t[12].default,o=Ke(n,t,t[11],Ge);return{c(){o&&o.c()},m(s,r){o&&o.m(s,r),e=!0},p(s,[r]){o&&o.p&&(!e||r&2051)&&We(o,n,s,s[11],e?Ve(n,s[11],r,Bn):Ze(s[11]),Ge)},i(s){e||(B(o,s),e=!0)},o(s){H(o,s),e=!1},d(s){o&&o.d(s)}}}function Un(t,e,n){let o,s,r,l,{$$slots:u={},$$scope:i}=e,{basepath:c="/"}=e,{url:p=null}=e,{history:f=en}=e;ne(_n,f);const k=le(Me),d=le(ue),h=pt([]);ht(t,h,b=>n(9,s=b));const A=pt(null);ht(t,A,b=>n(1,l=b));let T=!1;const I=k||pt(p?{pathname:p}:f.location);ht(t,I,b=>n(0,o=b));const z=d?d.routerBase:pt({path:c,uri:c});ht(t,z,b=>n(10,r=b));const D=In([z,A],([b,q])=>{if(!q)return b;const{path:M}=b,{route:m,uri:g}=q;return{path:m.default?M:m.path.replace(/\*.*$/,""),uri:g}}),ot=b=>{const{path:q}=r;let{path:M}=b;if(b._path=M,b.path=xe(q,M),typeof window>"u"){if(T)return;const m=Xe([b],o.pathname);m&&(A.set(m),T=!0)}else h.update(m=>[...m,b])},F=b=>{h.update(q=>q.filter(M=>M!==b))};return k||(cn(()=>f.listen(q=>{I.set(q.location)})),ne(Me,I)),ne(ue,{activeRoute:A,base:z,routerBase:D,registerRoute:ot,unregisterRoute:F}),t.$$set=b=>{"basepath"in b&&n(6,c=b.basepath),"url"in b&&n(7,p=b.url),"history"in b&&n(8,f=b.history),"$$scope"in b&&n(11,i=b.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:b}=r;h.update(q=>q.map(M=>Object.assign(M,{path:xe(b,M._path)})))}if(t.$$.dirty&513){const b=Xe(s,o.pathname);A.set(b)}},[o,l,h,A,I,z,c,p,f,s,r,i,u]}class Xn extends Gt{constructor(e){super(),Dt(this,e,Un,Mn,bt,{basepath:6,url:7,history:8})}}function Je(t){let e,n;return{c(){e=_("p"),n=E(t[3]),y(e,"class","error-message")},m(o,s){Q(o,e,s),a(e,n)},p(o,s){s&8&&X(n,o[3])},d(o){o&&G(e)}}}function xn(t){let e,n,o,s,r,l,u,i,c,p,f,k,d=t[2]&&Je(t);return{c(){e=_("main"),n=_("div"),o=_("h1"),o.textContent="Login",s=j(),r=_("input"),l=j(),u=_("input"),i=j(),c=_("button"),c.textContent="Login",p=j(),d&&d.c(),y(o,"class","login-title"),y(r,"type","text"),y(r,"id","usernameOrEmail"),y(r,"class","login-input"),y(r,"placeholder","Username or Email"),y(u,"type","password"),y(u,"id","password"),y(u,"class","login-input"),y(u,"placeholder","Password"),y(c,"id","login-button"),y(c,"class","login-button"),y(n,"class","login-card"),y(e,"class","login-container")},m(h,A){Q(h,e,A),a(e,n),a(n,o),a(n,s),a(n,r),Bt(r,t[0]),a(n,l),a(n,u),Bt(u,t[1]),a(n,i),a(n,c),a(n,p),d&&d.m(n,null),f||(k=[mt(r,"input",t[7]),mt(u,"input",t[8]),mt(c,"click",t[4])],f=!0)},p(h,[A]){A&1&&r.value!==h[0]&&Bt(r,h[0]),A&2&&u.value!==h[1]&&Bt(u,h[1]),h[2]?d?d.p(h,A):(d=Je(h),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i:O,o:O,d(h){h&&G(e),d&&d.d(),f=!1,nt(k)}}}function Hn(t,e,n){let{loggedIn:o}=e,{fetchUserIDData:s}=e,r,l,u=!1,i;const c=()=>{fetch("https://01.kood.tech/api/auth/signin",{method:"POST",headers:{Authorization:"Basic "+btoa(r+":"+l)}}).then(d=>d.json()).then(function(d){console.log(d),console.log("got here"),d.error!==null&&d.error!==void 0?(n(3,i=d.error),n(2,u=!0),n(1,l="")):(n(2,u=!1),console.log(d),n(5,o=!0),n(0,r=""),n(1,l=""),s(d),p(),console.log("logged in"))})},p=()=>{fe("/",{replace:!0})};function f(){r=this.value,n(0,r)}function k(){l=this.value,n(1,l)}return t.$$set=d=>{"loggedIn"in d&&n(5,o=d.loggedIn),"fetchUserIDData"in d&&n(6,s=d.fetchUserIDData)},[r,l,u,i,c,o,s,f,k]}class zn extends Gt{constructor(e){super(),Dt(this,e,Hn,xn,bt,{loggedIn:5,fetchUserIDData:6})}}function Dn(t){let e,n,o,s,r,l,u,i,c,p,f,k,d,h,A,T,I,z,D,ot,F,b,q,M,m,g,C,P,w,R,J,x,U,$,st=t[7]/1e3+"",K,tt,dt,Y,v,Jt,rt,S,V,kt,W=t[8].jsSkill+"",Qt,pe,vt,me,wt=t[8].goSkill+"",Ft,ge,St,_e,At=t[8].cssSkill+"",Kt,be,Et,ye,jt=t[8].htmlSkill+"",Yt,ke,Ot,ve,Ct=t[8].gameSkill+"",Vt,we,Pt,Se,Lt=t[8].algoSkill+"",Wt,Ae,Tt,Ee,Nt=t[8].backendSkill+"",Zt,je,It,Oe,qt=t[8].frontendSkill+"",$t,Ce,Rt,te,Pe;return{c(){e=_("header"),n=_("h1"),n.textContent="GraphQL Project",o=j(),s=_("button"),s.textContent="Logout",r=j(),l=_("main"),u=_("div"),i=_("div"),c=_("div"),c.textContent="User Info",p=j(),f=_("div"),k=_("div"),d=_("div"),h=E("User ID: "),A=E(t[3]),T=j(),I=_("div"),z=E("User Login: "),D=E(t[4]),ot=j(),F=_("div"),b=E("User Email: "),q=E(t[5]),M=j(),m=_("div"),g=E("User School: "),C=E(t[6]),P=j(),w=_("div"),R=_("div"),R.textContent="Total Earned XP",J=j(),x=_("div"),U=_("div"),$=_("div"),K=E(st),tt=E("kB"),dt=j(),Y=_("div"),v=_("div"),v.textContent="Skill Progress",Jt=j(),rt=_("div"),S=_("div"),V=_("div"),kt=E("JS: "),Qt=E(W),pe=j(),vt=_("div"),me=E("Go: "),Ft=E(wt),ge=j(),St=_("div"),_e=E("CSS: "),Kt=E(At),be=j(),Et=_("div"),ye=E("HTML: "),Yt=E(jt),ke=j(),Ot=_("div"),ve=E("Game: "),Vt=E(Ct),we=j(),Pt=_("div"),Se=E("Algo: "),Wt=E(Lt),Ae=j(),Tt=_("div"),Ee=E("Back-End: "),Zt=E(Nt),je=j(),It=_("div"),Oe=E("Front-End: "),$t=E(qt),Ce=j(),Rt=_("div"),Rt.innerHTML='<div class="info"><div class="info-card-title">Earned XP Graph</div> <div class="info-card-graph"><div id="graphs"></div></div></div> <div class="info"><div class="info-card-title">Earned XP Per Type Graph</div> <div class="info-card-graph"><div id="graphs-pie"><div class="pie-data"><div id="type-name"></div> <div id="type-xp"></div> <br/> <br/> <br/></div></div></div></div>',y(n,"class","title"),y(s,"class","logout-button"),y(e,"class","header"),y(c,"class","info-card-title"),y(d,"class","user-id"),y(I,"class","user-login"),y(F,"class","user-email"),y(m,"class","user-school"),y(k,"class","user-info"),y(f,"class","info-card"),y(i,"class","info"),y(R,"class","info-card-title"),y($,"class","user-exp-amount"),y(U,"class","user-exp"),y(x,"class","info-card"),y(w,"class","info"),y(v,"class","info-card-title"),y(S,"class","user-skills"),y(rt,"class","info-card"),y(Y,"class","info"),y(u,"class","info-cards"),y(Rt,"class","info-graphs"),y(l,"class","info-container")},m(L,N){Q(L,e,N),a(e,n),a(e,o),a(e,s),Q(L,r,N),Q(L,l,N),a(l,u),a(u,i),a(i,c),a(i,p),a(i,f),a(f,k),a(k,d),a(d,h),a(d,A),a(k,T),a(k,I),a(I,z),a(I,D),a(k,ot),a(k,F),a(F,b),a(F,q),a(k,M),a(k,m),a(m,g),a(m,C),a(u,P),a(u,w),a(w,R),a(w,J),a(w,x),a(x,U),a(U,$),a($,K),a($,tt),a(u,dt),a(u,Y),a(Y,v),a(Y,Jt),a(Y,rt),a(rt,S),a(S,V),a(V,kt),a(V,Qt),a(S,pe),a(S,vt),a(vt,me),a(vt,Ft),a(S,ge),a(S,St),a(St,_e),a(St,Kt),a(S,be),a(S,Et),a(Et,ye),a(Et,Yt),a(S,ke),a(S,Ot),a(Ot,ve),a(Ot,Vt),a(S,we),a(S,Pt),a(Pt,Se),a(Pt,Wt),a(S,Ae),a(S,Tt),a(Tt,Ee),a(Tt,Zt),a(S,je),a(S,It),a(It,Oe),a(It,$t),a(l,Ce),a(l,Rt),te||(Pe=mt(s,"click",t[10]),te=!0)},p(L,N){N&8&&X(A,L[3]),N&16&&X(D,L[4]),N&32&&X(q,L[5]),N&64&&X(C,L[6]),N&128&&st!==(st=L[7]/1e3+"")&&X(K,st),N&256&&W!==(W=L[8].jsSkill+"")&&X(Qt,W),N&256&&wt!==(wt=L[8].goSkill+"")&&X(Ft,wt),N&256&&At!==(At=L[8].cssSkill+"")&&X(Kt,At),N&256&&jt!==(jt=L[8].htmlSkill+"")&&X(Yt,jt),N&256&&Ct!==(Ct=L[8].gameSkill+"")&&X(Vt,Ct),N&256&&Lt!==(Lt=L[8].algoSkill+"")&&X(Wt,Lt),N&256&&Nt!==(Nt=L[8].backendSkill+"")&&X(Zt,Nt),N&256&&qt!==(qt=L[8].frontendSkill+"")&&X($t,qt)},d(L){L&&(G(e),G(r),G(l)),te=!1,Pe()}}}function Gn(t){let e,n,o,s;return e=new De({props:{path:"/login",component:zn,loggedIn:t[2],fetchUserIDData:t[1]}}),o=new De({props:{path:"/",$$slots:{default:[Dn]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment),n=j(),_t(o.$$.fragment)},m(r,l){at(e,r,l),Q(r,n,l),at(o,r,l),s=!0},p(r,l){const u={};l&4&&(u.loggedIn=r[2]),e.$set(u);const i={};l&4194808&&(i.$$scope={dirty:l,ctx:r}),o.$set(i)},i(r){s||(B(e.$$.fragment,r),B(o.$$.fragment,r),s=!0)},o(r){H(e.$$.fragment,r),H(o.$$.fragment,r),s=!1},d(r){r&&G(n),ft(e,r),ft(o,r)}}}function Jn(t){let e,n,o,s;return e=new Xn({props:{url:t[0],$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(r,l){at(e,r,l),n=!0,o||(s=mt(window,"load",t[9]),o=!0)},p(r,[l]){const u={};l&1&&(u.url=r[0]),l&4194812&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){H(e.$$.fragment,r),n=!1},d(r){ft(e,r),o=!1,s()}}}function Qn(t,e,n){let{url:o="/"}=e,s=!1;const r=["hsl(155, 100%, 50%)","hsl(155, 100%, 40%)","hsl(155, 100%, 30%)","hsl(155, 100%, 20%)"];let l=0,u="",i="",c="",p=0,f={jsSkill:0,goSkill:0,cssSkill:0,htmlSkill:0,gameSkill:0,algoSkill:0,backendSkill:0,frontendSkill:0};const k=`
    {
      user {
        id
        login
        email
        progresses{
          campus
        }
      }
    }
  `,d=`
    {
      user {
        transactions(
          where: {_and: [{object: {type: {_eq: "project"}}}, {type: {_eq: "xp"}}]}
          order_by: {amount: desc}
        ) {
          amount
          object {
            name
          }
        }
      }
    }
  `,h=`
    {
      user {
        transactions(where:{_and:[{type:{_like:"%skill%"}}, {object:{type:{_eq:"project"}}}]}
          order_by:{createdAt:desc}
        ) {
          createdAt
          amount
          type
          path
          user{
            login
          }
          userId
          object {
            name
            type
          }
        }
      }
    }
  `,A=`
    {
      user(where: {_and: [{progresses: {isDone: {_eq: true}}}]}) {
        a: transactions(
          limit: 50
          offset: 0
          where: {type: {_eq: "xp"}}
          order_by: {amount: desc}
        ) {
          object {
            name
            type
          }
          amount
        }
        b: transactions(
          limit: 50
          offset: 50
          where: {type: {_eq: "xp"}}
          order_by: {amount: desc}
        ) {
          object {
            name
            type
          }
          amount
        }
        c: transactions(
          limit: 50
          offset: 100
          where: {type: {_eq: "xp"}}
          order_by: {amount: desc}
        ) {
          object {
            name
            type
          }
          amount
        }
        d: transactions(
          limit: 50
          offset: 150
          where: {type: {_eq: "xp"}}
          order_by: {amount: desc}
        ) {
          object {
            name
            type
          }
          amount
        }
        e: transactions(
          limit: 50
          offset: 200
          where: {_and: [{type: {_eq: "xp"}}]}
          order_by: {amount: desc}
        ) {
          object {
            name
            type
            reference {
              type
            }
          }
          amount
        }
      }
    }
  `,T=m=>{fetch("https://01.kood.tech/api/graphql-engine/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m},body:JSON.stringify({query:k})}).then(g=>g.json()).then(function(g){console.log("user id Data ",g),n(3,l=g.data.user[0].id),n(4,u=g.data.user[0].login),n(5,i=g.data.user[0].email),n(6,c=g.data.user[0].progresses[0].campus),I(m)})},I=m=>{z(m),D(m),ot(m),console.log("user id is ",l),console.log("user login is ",u),console.log("user email is ",i)},z=m=>{fetch("https://01.kood.tech/api/graphql-engine/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m},body:JSON.stringify({query:d})}).then(g=>g.json()).then(function(g){console.log("total xp Data ",g);let C=g.data.user[0].transactions;for(let P=0;P<C.length;P++)n(7,p=p+C[P].amount);console.log(p),F(g)})},D=m=>{fetch("https://01.kood.tech/api/graphql-engine/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m},body:JSON.stringify({query:h})}).then(g=>g.json()).then(function(g){console.log("skill Data ",g);for(let C in g.data.user[0].transactions){let P=g.data.user[0].transactions[C].type,w=g.data.user[0].transactions[C];switch(console.log("skill is ",P),P){case"skill_js":n(8,f.jsSkill+=w.amount,f),console.log("js skill add ",w.amount);break;case"skill_go":n(8,f.goSkill+=w.amount,f),console.log("go skill add ",w.amount);break;case"skill_css":n(8,f.cssSkill+=w.amount,f),console.log("css skill add ",w.amount);break;case"skill_html":n(8,f.htmlSkill+=w.amount,f),console.log("html skill add ",w.amount);break;case"skill_game":n(8,f.gameSkill+=w.amount,f),console.log("game skill add ",w.amount);break;case"skill_algo":n(8,f.algoSkill+=w.amount,f),console.log("algo skill add ",w.amount);break;case"skill_back-end":n(8,f.backendSkill+=w.amount,f),console.log("back-end skill add ",w.amount);break;case"skill_front-end":n(8,f.frontendSkill+=w.amount,f),console.log("front-end skill add ",w.amount);break}}})},ot=m=>{fetch("https://01.kood.tech/api/graphql-engine/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m},body:JSON.stringify({query:A})}).then(g=>g.json()).then(function(g){console.log("xp per type Data ",g),b(g)})},F=m=>{let g=document.getElementById("graphs"),C=m.data.user[0].transactions;C=C.reverse();const P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.setAttribute("height","90%"),P.setAttribute("width","70%"),P.setAttribute("id","bar-chart"),P.setAttribute("viewBox","0 0 2000 1000");let w=0;C.forEach(R=>{if(R.amount>9e3||R.amount>=5e3&&R.object.name!=="forum"){const J=document.createElementNS("http://www.w3.org/2000/svg","g"),x=document.createElementNS("http://www.w3.org/2000/svg","rect"),U=document.createElementNS("http://www.w3.org/2000/svg","text");J.setAttribute("class","bar"),x.setAttribute("x","0"),x.setAttribute("y",`${w}`),x.setAttribute("width",`${R.amount/1e3*4}`),x.setAttribute("height",` ${1e3/C.length}px`),U.setAttribute("class","bar-chart-text"),U.innerHTML+=`${R.object.name} -> ${R.amount/1e3}K </text>`,U.setAttribute("x",`${R.amount/1e3+10}`),U.setAttribute("y",`${w+30}`),U.setAttribute("dx",`${R.amount/1e3*4+10}`),J.appendChild(U),J.appendChild(x),P.appendChild(J),g.appendChild(P),w+=70}})},b=m=>{let g=[],C=document.getElementById("type-name"),P=document.getElementById("type-xp");console.log(C),m.data.user[0].a.forEach(v=>{g.push(v)}),m.data.user[0].b.forEach(v=>{g.push(v)}),m.data.user[0].c.forEach(v=>{g.push(v)}),m.data.user[0].d.forEach(v=>{g.push(v)}),m.data.user[0].e.forEach(v=>{g.push(v)});let w=0;g.forEach(v=>{w+=v.amount});let R=[],J={type:"project",amount:0},x={type:"exercise",amount:0},U={type:"piscine",amount:0},$={type:"raid",amount:0};g.forEach(v=>{v.object.type==="project"&&v.amount>9e3||v.object.type==="project"&&v.amount>=5e3&&v.object.name!=="forum"?J.amount+=v.amount:v.object.type==="exercise"?x.amount+=v.amount:v.object.type==="piscine"?U.amount+=v.amount:$.amount+=v.amount}),R.push(J,x,U,$);let st=document.getElementById("graphs-pie"),K=document.createElementNS("http://www.w3.org/2000/svg","svg");K.setAttribute("id","pie-chart"),K.setAttribute("viewBox","0 0 20 20");let tt=document.createElementNS("http://www.w3.org/2000/svg","circle");tt.setAttribute("r","10"),tt.setAttribute("fill","white"),tt.setAttribute("cx","10"),tt.setAttribute("cy","10"),K.appendChild(tt);let dt=0,Y=0;R.forEach((v,Jt)=>{let rt=100/w*v.amount/100*31.42,S=document.createElementNS("http://www.w3.org/2000/svg","circle"),V=document.createElementNS("http://www.w3.org/2000/svg","g");document.createElementNS("http://www.w3.org/2000/svg","text");let kt=v.amount/w*31.4;S.setAttribute("r","5"),S.setAttribute("class","pie-slice"),S.setAttribute("fill","transparent"),S.setAttribute("cx","10"),S.setAttribute("cy","10"),S.setAttribute("stroke",r[dt]),S.setAttribute("stroke-width","10"),S.setAttribute("stroke-dasharray",`${rt} 31.42`),S.setAttribute("stroke-dashoffset",`${-Y}`),S.setAttribute("data-name",`${v.type}`),S.setAttribute("data-value",`${v.amount}`),console.log(v.amount),V.addEventListener("mouseover",function(W){C.innerHTML=W.target.dataset.name,console.log(W.target.dataset.name),P.innerHTML=W.target.dataset.value/1e3+"KB"}),V.addEventListener("mouseleave",function(W){C.innerHTML="",P.innerHTML=""}),V.appendChild(S),K.appendChild(V),dt++,Y+=kt,st.appendChild(K)})},q=()=>{s||fe("/login",{replace:!0})},M=()=>{console.log("logout pressed"),fetch("https://01.kood.tech/api/auth/signin",{method:"POST",headers:{Authorization:"Basic "+btoa("random username:123")}}).then(m=>m.json()).then(function(m){console.log(m),console.log("got here logout"),m.error!==null&&m.error!==void 0?(n(2,s=!1),n(3,l=0),n(4,u=""),n(5,i=""),n(6,c=""),n(7,p=0),fe("/login",{replace:!0})):console.log("failed to logout")})};return t.$$set=m=>{"url"in m&&n(0,o=m.url)},[o,T,s,l,u,i,c,p,f,q,M]}class Fn extends Gt{constructor(e){super(),Dt(this,e,Qn,Jn,bt,{url:0,fetchUserIDData:1})}get fetchUserIDData(){return this.$$.ctx[1]}}new Fn({target:document.getElementById("app")});
